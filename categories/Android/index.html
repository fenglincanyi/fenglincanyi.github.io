<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Category: Android | fenglincanyi|blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="个人博客">
<meta property="og:type" content="website">
<meta property="og:title" content="fenglincanyi|blog">
<meta property="og:url" content="http://yoursite.com/categories/Android/index.html">
<meta property="og:site_name" content="fenglincanyi|blog">
<meta property="og:description" content="个人博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="fenglincanyi|blog">
<meta name="twitter:description" content="个人博客">
  
    <link rel="alternate" href="/atom.xml" title="fenglincanyi|blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">fenglincanyi|blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Android 类加载初探" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/17/Android 类加载初探/" class="article-date">
  <time datetime="2016-11-17T13:08:00.000Z" itemprop="datePublished">11月 17 2016</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/17/Android 类加载初探/">Android 类加载初探</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>源码路径(此版本：Android 5.0)：<br>android-5.0.0_r7\libcore\dalvik\src\main\java\dalvik\system</p>
</blockquote>
<p>需要关注的类有：<br><img src="http://7xr1vo.com1.z0.glb.clouddn.com/AndroidClassloader1.png" alt=""></p>
<p><br></p>
<p>###<strong>一、查找类的过程</strong></p>
<p>对于一个Class，在Android中，是如何被ClassLoader查找的呢？我们先查看一下，在Android中最原始的ClassLoader: BaseDexClassLoader 中有直接的方法。直接看源码：</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/AndroidClassLoader2.png" alt=""></p>
<p>再继续追， pathList 的 findClass() 方法：</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/AndroidClassLoader3.png" alt=""></p>
<p>此时遍历每个dex，通过二进制名来查找类Class；若类未定义或类未找到，则将异常add至suppressed异常集合中，随后抛出。</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/AndroidClassLoader4.png" alt=""></p>
<p><br></p>
<p>###<strong>二、3个类加载器的关系</strong></p>
<p>我们先来看看这3个ClassLoader的定义</p>
<ul>
<li>BaseDexClassLoader</li>
</ul>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/AndroidClassloader5.png" alt=""></p>
<ul>
<li>DexClassLoader</li>
</ul>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/AndroidClassloader6.png" alt=""></p>
<ul>
<li>PathClassLoader</li>
</ul>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/AndroidClassloader7.png" alt=""></p>
<p>由上面可看出：BaseDexClassLoader 继承自最原始的 ClassLoader，DexClassLoader 和 PathClassLoader都继承自BaseClassLoader。依据传入的参数不同，来实现各自不同的 dex 加载功能</p>
<p><strong>ClassLoader 相关说明：</strong></p>
<p>从存储中加载类和资源。 在运行时安装一个或多个类加载器。 每当运行时系统需要在内存中尚不可用的特定类时，都会查询这些类。 通常，类加载器是一个树型结构，其中子类加载器将所有请求委托给父类加载器。 只有父类加载器无法满足请求，子类加载器才会尝试处理它（委托机制）</p>
<p>下面我们再继续分析，传入不同的 optimizedDirectory 参数，两者会有什么样的区别？</p>
<p>DexPathList 构造函数：</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/AndroidClassloader8.png" alt=""></p>
<p>makeDexElements过程：</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/AndroidClassloader9.png" alt=""></p>
<p>加载DexFile，若optimizedDirectory 目录为空，则初始化一个DexFile，否则，直接加载dex文件：</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/AndroidClassloader10.png" alt=""></p>
<p>初始化DexFile文件，通常是从一个文件对象中打开一个Dex file ，通常是一个 内容是 classes.dex 的 zip/jar文件，<br>虚拟机将在 /data/dalvik-cache 目录下生成相应名称的文件，且打开它，在系统权限允许的情况下尽可能的先创建或更新该文件<br>不能传递 优化后的 文件名（/data/dalvik-cache），而是在 dexopt 之前的原始状态的文件名。</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/AndroidClassloader11.png" alt=""></p>
<p>由上可知，PathClassLoader 的构造函数，与DexClassLoader相比较，optimizedDirectory 优化目录为null，所以PathClassLoader加载的dex文件并不是 已经被dexopt优化后的了，而是原生的dex文件（通常是zip/jar）。也就是说未被加载过的dex。而DexClassLoader是加载优化后的路径：/data/dalvik-cache 下的dex 文件</p>
<p><br><br><br><br>若想查看相关目录下的dex文件，可参考上一篇文章：<br><a href="http://blog.csdn.net/fenglincanyi/article/details/52998698" target="_blank" rel="external">http://blog.csdn.net/fenglincanyi/article/details/52998698</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/17/Android 类加载初探/" data-id="ciwgjs6kz0002k0v7y28a7c8v" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android apk安装及编译过程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/01/Android apk安装及编译过程/" class="article-date">
  <time datetime="2016-11-01T10:53:00.000Z" itemprop="datePublished">11月 1 2016</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/01/Android apk安装及编译过程/">Android apk安装及编译过程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>注：本文不对apk安装之前，系统所做的复杂工作做分析，只针对普通的apk安装过程进行简单的过程理解</p>
</blockquote>
<p>一般情况下，在apk安装时，系统一般会显示一个安装界面，获取用户同意之后进行安装，并且有一些apk预处理相关的操作，紧接着，会启动app界面，进入app。<br>在这一过程中，不同版本的Android系统在安装时，对包的处理是不太一样的，以下分Dalivk、ART两种虚拟机进行分析。这里主要采用原生模拟器，进行分析。</p>
<p>###<strong>一、 Dalvik（JIT：just in time  即时编译）</strong></p>
<ul>
<li>过程分析：<ul>
<li>点击apk包后或apk下载后，安装之前，系统会启动安装界面PackageInstallerActivity，让用户进行授权选择，用户同意后，会调用ApplicationPackageManager 进行相关操作。</li>
<li>调用ApplicationPackageManager，通过IPC来调用 PackageManagerService 中的 installPackage 方法，在这个方法中，又去调用 installPackageAsUser 方法，此时，要进行权限相关校验，完毕之后，会通过 handler 发送消息（类型：INIT_COPY，MCS_BOUND）</li>
<li>然后 startCopy —&gt; handleStartCopy 依次调用，这里，对安装位置、存储空间进行处理，之后会 拷贝apk 相关文件放在相应的目录下。这些文件主要包括：<ul>
<li>apk文件</li>
<li>jar、so文件</li>
<li>db文件（若有的话）</li>
</ul>
</li>
<li>拷贝完成之后，进行预处理，对于Dalvik来说，dexopt要进行dex文件的优化，生成odex文件，在app运行时，能加快其启动速度。</li>
<li>另外，对于资源处理，是 AssetMananger 来进行资源的解析、加载。</li>
</ul>
</li>
</ul>
<ul>
<li>实例考察：<ul>
<li>安装时logcat日志：拷贝工作，然后进行dex优化，dexopt执行操作</li>
</ul>
</li>
</ul>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/apk%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B.png" alt=""></p>
<p>   拷贝后，目录如下：</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/copy%20lib%E7%BB%93%E6%9E%9C.png" alt=""></p>
<p> dex位置：</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/dex%E4%BD%8D%E7%BD%AE.png" alt=""></p>
<p>如果把此位置的 dex 删除后，且杀掉已经运行的进程后，再次点击app启动后奔溃，如图：</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/%E5%88%A0%E6%8E%89dalvik-cache%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84dex%E5%90%8E%EF%BC%8C%E4%B8%94%E6%9D%80%E6%8E%89%E5%B7%B2%E7%BB%8F%E8%BF%90%E8%A1%8C%E7%9A%84%E5%BA%94%E7%94%A8%E8%BF%9B%E7%A8%8B%EF%BC%8C%E5%86%8D%E6%AC%A1%E5%90%AF%E5%8A%A8.png" alt=""></p>
<p>由此可知，要启动app时，需要加载 /data/dalik-cache 目录下的dex文件</p>
<p>相关参考文献：<br><a href="http://www.woaitqs.cc/android/2016/07/28/android-plugin-get-apk-info" target="_blank" rel="external">http://www.woaitqs.cc/android/2016/07/28/android-plugin-get-apk-info</a><br><a href="http://blog.csdn.net/luoshengyang/article/details/8852432" target="_blank" rel="external">http://blog.csdn.net/luoshengyang/article/details/8852432</a></p>
<p>###<strong>二、ART（AOT：Ahead of time  预编译）</strong></p>
<p>Android 4.4之后，对于Android虚拟机又继续做了优化，art 代替了 Dalvik，对于dex文件，优化工作做了改变。</p>
<ul>
<li><p>大致的处理过程：</p>
</li>
<li><p>编译时，通过调用 dex2oat 对dex 进行预编译，这个编译器参考了LLVM框架，默认情况下，是采用了quick模式，但在6.0之后，LLVM被彻底去除了。关于LLVM细节，自行Google。</p>
</li>
<li>编译后生成的文件 .oat 文件，实际上是Android 私有的ELF文件。在Linux系统中，ELF文件主要分为3类：目标文件（ .o）、共享文件（ .so）、可执行文件。此处Android的 .oat文件属于可执行文件。<br>  oat 文件含有ELF文件正常的结构形态，里面既包含有dex 文件，也包含编译好的本地指令代码。被包含的dex文件也可以是多个。</li>
</ul>
<ul>
<li>实例考察<ul>
<li>ART 安装apk时，日志记录：</li>
</ul>
</li>
</ul>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/art%E5%AE%89%E8%A3%85apk%E7%9A%84log.png" alt=""><br>     可以看到，有apk的拷贝，有dex2oat的dex优化过程。再追一下相关的目录：</p>
<p> <img src="http://7xr1vo.com1.z0.glb.clouddn.com/local%E7%9B%AE%E5%BD%95%E4%B8%8B.png" alt=""></p>
<p>  <img src="http://7xr1vo.com1.z0.glb.clouddn.com/dalvik-cache%E7%9B%AE%E5%BD%95%E4%B8%8B.png" alt=""></p>
<p>里面有一部分是系统框架层的相关文件。</p>
<p>安装后的目录结构也有变化：</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/data_app%E7%9B%AE%E5%BD%95%E4%B8%8B.png" alt=""></p>
<p>生成相应的平台下的文件，此处我使用的是x86的模拟器</p>
<p>Android 在编译时用到的 dexopt、dex2oat、aapt 都在 /system/bin目录下：</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/4.4%E4%B8%8Bsystem_bin%E4%B8%8B%E7%9A%84aapt.png.png" alt=""></p>
<p>当时对于 multidex 的包也进行了目录查找，如下，留下后续研究做参考。</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/multidex.png" alt=""></p>
<p>相关参考文献：<br><a href="https://mssun.me/blog/android-art-runtime-2-dex2oat.html" target="_blank" rel="external">https://mssun.me/blog/android-art-runtime-2-dex2oat.html</a><br><a href="http://blog.csdn.net/luoshengyang/article/details/39307813" target="_blank" rel="external">http://blog.csdn.net/luoshengyang/article/details/39307813</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/01/Android apk安装及编译过程/" data-id="ciwgjn1r50002z8v7hgfuu827" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-RadioGroup、RadioButton动态创建并定制icon显示" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/25/RadioGroup、RadioButton动态创建并定制icon显示/" class="article-date">
  <time datetime="2016-10-25T02:24:00.000Z" itemprop="datePublished">10月 25 2016</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/25/RadioGroup、RadioButton动态创建并定制icon显示/">RadioGroup、RadioButton动态创建并定制icon显示</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>由于原生的Radiobutton不能满足业务需求，所以需要自己定制icon图片，和默认选中某一项。需要自己代码动态实现。废话不多说，上代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">private void setViewData() &#123;</div><div class="line">        radioGroup.removeAllViews();</div><div class="line"></div><div class="line">        int margin = ScreenUtil.dip2px(this, 14.0f);</div><div class="line">        int marginLeft = ScreenUtil.dip2px(this, 20.0f);</div><div class="line">        int paddingLeft = ScreenUtil.dip2px(this, 3.0f);</div><div class="line"></div><div class="line">        RadioGroup.LayoutParams layoutParams = </div><div class="line">				new RadioGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);</div><div class="line">        RadioGroup.LayoutParams layoutParams1 = </div><div class="line">				new RadioGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, 1);</div><div class="line">        layoutParams.setMargins(marginLeft, margin, margin, margin);</div><div class="line">        layoutParams1.setMargins(margin, 0, margin, 0);</div><div class="line"></div><div class="line">        int defaultId = -1;</div><div class="line">        for (int i = 0; i &lt; messageList.size(); i++) &#123;</div><div class="line">            RadioButton rb = new RadioButton(this);</div><div class="line">            rb.setMaxLines(2);</div><div class="line">            rb.setPadding(paddingLeft, 0, 0, 0);</div><div class="line">            rb.setText(messageList.get(i).relayMessage);</div><div class="line">            rb.setButtonDrawable(android.R.color.transparent);</div><div class="line">            rb.setTextColor(Color.parseColor(&quot;#555555&quot;));</div><div class="line">            rb.setButtonDrawable(null);// 去掉左边默认图标</div><div class="line">            rb.setCompoundDrawablePadding(margin);</div><div class="line">            rb.setEllipsize(TextUtils.TruncateAt.END);// 结尾处打点显示</div><div class="line">            Drawable drawable = </div><div class="line">						getResources().getDrawable(R.drawable.relay_message_radio_selector);</div><div class="line">            drawable.setBounds(0, 0, drawable.getMinimumWidth(), drawable.getMinimumHeight());</div><div class="line">            rb.setCompoundDrawables(drawable, null, null, null);</div><div class="line">            // 手动生成id</div><div class="line">            int generateId = generateViewId();</div><div class="line">            messages.put(generateId, messageList.get(i).relayMessage);</div><div class="line">            rb.setId(generateId);</div><div class="line">            if (i == 0) &#123;</div><div class="line">                defaultId = generateId;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            TextView view = new TextView(this);</div><div class="line">            view.setBackgroundColor(Color.parseColor(&quot;#dddddd&quot;));</div><div class="line"></div><div class="line">            radioGroup.addView(rb, layoutParams);</div><div class="line">            radioGroup.addView(view, layoutParams1);</div><div class="line">        &#125;</div><div class="line">        // 此处：默认选中第一个</div><div class="line">        radioGroup.check(defaultId);</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>R.drawable.relay_message_radio_selector 代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class="line">&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</div><div class="line">	&lt;!--设置自己的图片icon--&gt;</div><div class="line">    &lt;item android:drawable=&quot;@drawable/relay_radio_unchecked&quot; </div><div class="line">		android:state_checked=&quot;false&quot; /&gt;</div><div class="line">    &lt;item android:drawable=&quot;@drawable/relay_radio_checked&quot; </div><div class="line">		android:state_checked=&quot;true&quot; /&gt;</div><div class="line">&lt;/selector&gt;</div></pre></td></tr></table></figure>
<p>效果如下图：</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/%E9%80%89%E6%8B%A9.png" alt="这里写图片描述"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/10/25/RadioGroup、RadioButton动态创建并定制icon显示/" data-id="ciwgjhqky0002jsv7c7bes4st" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Gradle相关配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/09/Gradle相关配置/" class="article-date">
  <time datetime="2016-09-09T02:36:00.000Z" itemprop="datePublished">9月 9 2016</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/09/Gradle相关配置/">Gradle相关配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line">android &#123;</div><div class="line">    compileSdkVersion 24</div><div class="line">    buildToolsVersion &quot;24.0.0&quot;</div><div class="line"></div><div class="line">    defaultConfig &#123;</div><div class="line">        applicationId &quot;com.geng.hello&quot;</div><div class="line">        minSdkVersion 19</div><div class="line">        targetSdkVersion 24</div><div class="line">        versionCode 1</div><div class="line">        versionName &quot;1.0&quot;</div><div class="line">        // 在buildConfig.java中自动配置常量字段</div><div class="line">        buildConfigField(&apos;String&apos;, &quot;API_DEBUG_URL&quot;, &apos;&quot;http://test.baidu.com&quot;&apos;)</div><div class="line"></div><div class="line">        // 开启multidex,突破64k</div><div class="line">        multiDexEnabled true</div><div class="line"></div><div class="line">        // ndk cpu架构，生成相应的so包</div><div class="line">        ndk&#123;</div><div class="line">            abiFilter &apos;armeabi&apos;, &apos;x86&apos;, &apos;armeabi-v7a&apos;, &apos;x86_64&apos;, &apos;arm64-v8a&apos;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // 渠道</div><div class="line">    productFlavors &#123;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    signingConfigs &#123;</div><div class="line">        relase &#123;</div><div class="line">            storeFile file(&quot;relase.keystore&quot;)</div><div class="line">            keyAlias &quot;relase&quot;</div><div class="line">            keyPassword &quot;123456&quot;</div><div class="line">            storePassword &quot;123456&quot;</div><div class="line">        &#125;</div><div class="line">        debug &#123;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    buildTypes &#123;</div><div class="line">        release &#123;</div><div class="line">            // 混淆开启</div><div class="line">            minifyEnabled true</div><div class="line">            proguardFiles getDefaultProguardFile(&apos;proguard-android.txt&apos;), &apos;proguard-rules.pro&apos;</div><div class="line">        &#125;</div><div class="line">        debug &#123;</div><div class="line">            minifyEnabled false</div><div class="line">            // 4byte对齐，加快解析效率</div><div class="line">            zipAlignEnabled true</div><div class="line">            // 移除无用的资源文件</div><div class="line">            shrinkResources true</div><div class="line">            // 更改包名</div><div class="line">            applicationVariants.all &#123; variant -&gt;</div><div class="line">                variant.outputs.each &#123; output -&gt;</div><div class="line">                    output.outputFile = new File(output.outputFile.parent,</div><div class="line">                            &quot;debug_&quot; + buildTime() + &quot;.apk&quot;)</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">dependencies &#123;</div><div class="line">    compile fileTree(dir: &apos;libs&apos;, include: [&apos;*.jar&apos;])</div><div class="line">    testCompile &apos;junit:junit:4.12&apos;</div><div class="line">    compile &apos;com.android.support:appcompat-v7:24.0.0&apos;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">// --------------------------------gradle.properties配置------------------------------</div><div class="line"></div><div class="line">// 加速构建速度</div><div class="line">org.gradle.daemon=true</div><div class="line">org.gradle.parallel=true</div><div class="line">org.gradle.jvmargs=-Xmx2048m</div><div class="line"></div><div class="line">// 使用ndk配置</div><div class="line">android.useDeprecatedNdk=true</div><div class="line"></div><div class="line"></div><div class="line">// 其他：</div><div class="line">1.查看 keystore 文件的签名信息：</div><div class="line"></div><div class="line">在keystore所在目录下，打开cmd:</div><div class="line">keytool -list -v -keystore keystore文件名</div><div class="line"></div><div class="line">再根据提示，输入storepassword即可查看</div><div class="line"></div><div class="line">2.混淆：</div><div class="line">https://segmentfault.com/a/1190000004461614</div><div class="line">http://www.mayflyask.org/question/247</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/09/Gradle相关配置/" data-id="ciwgj7r9200029gv75ryg1g9m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-滑动冲突之EditText-ScrollView" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/16/滑动冲突之EditText-ScrollView/" class="article-date">
  <time datetime="2016-08-16T09:14:00.000Z" itemprop="datePublished">8月 16 2016</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/16/滑动冲突之EditText-ScrollView/">滑动冲突之EditText-ScrollView</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###<strong>问题一</strong><br>    EditText的内容过多时，EditText的内容并不能滚动，而是ScrollView的滚动</p>
<p>###<strong>解决</strong><br>        重写EditText的onTouch事件，将触摸事件交给EditText来处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">et.setOnTouchListener(new View.OnTouchListener() &#123;</div><div class="line">            @Override</div><div class="line">            public boolean onTouch(View v, MotionEvent event) &#123;</div><div class="line">            	// 设置ScrollView不拦截事件</div><div class="line">                scrollView.requestDisallowInterceptTouchEvent(true);</div><div class="line">            	switch (event.getAction() &amp; MotionEvent.ACTION_MASK)&#123;</div><div class="line">                	case MotionEvent.ACTION_UP:</div><div class="line">                	// 手指离开时：重置ScrollView事件拦截的状态</div><div class="line">                    slContainer.requestDisallowInterceptTouchEvent(false);</div><div class="line">                    	break;</div><div class="line">            	&#125;</div><div class="line">            	return false;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>###<strong>问题二</strong><br>        若有ScrollView内容比较多，比较长时，编辑EditText里的内容时会出现ScrollView滑到底部的现象，使得当前编辑的EditText看不到了</p>
<p>###<strong>解决</strong><br>        修改AndroidManifest.xml中Activity的windowSoftInputMode属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;activity</div><div class="line">	android:name=&quot;.me.MineResumeProjectExperienceActivity&quot;</div><div class="line">	android:screenOrientation=&quot;portrait</div><div class="line">	android:windowSoftInputMode=&quot;stateHidden|adjustPan&quot;/&gt;</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/16/滑动冲突之EditText-ScrollView/" data-id="ciwgj3dml000kp4v7mp65ehlk" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android SingleTask 探究" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/16/Android SingleTask 探究/" class="article-date">
  <time datetime="2016-05-16T03:12:00.000Z" itemprop="datePublished">5月 16 2016</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/16/Android SingleTask 探究/">Android SingleTask 探究</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>Android 4种启动模式来说，用法说明此处不再提及主要介绍SingleTop，SingleTask相关的问题</p>
</blockquote>
<ul>
<li><p>先分析 官方文档 中的一段话：</p>
<blockquote>
<p>As shown in the table above, standard is the default mode and is appropriate for most types of activities. SingleTop is also a common and useful launch mode for many types of activities. The other modes — singleTask and singleInstance — <font color="red">are not appropriate for most applications</font>, since they result in an interaction model that is likely to be unfamiliar to users and is very different from most other applications.</p>
</blockquote>
</li>
</ul>
<p>&emsp;&emsp;对于大多数应用来说，SingleTask 和 SingleInstance 并不适用，standrd 和 SingleTop对于普通的大部分Activity启动是适用的。<br>之所以使用singleTask，是存在这样一类问题，想要从后面的Activity 直接跳转到前面某一个Activity时，可能会采用的，如一个应用的MainActivity，LoginActivity等。</p>
<p>&emsp;&emsp;对于SingleTask模式，官方文档的这么一句话，坑了不少人（我还比较幸运，没被坑惨）,也带给我对之前知识的迷惑。</p>
<blockquote>
<p>The system creates a new task and instantiates the activity at the root of the new task</p>
</blockquote>
<p>&emsp;&emsp;<strong>其实事实根本不是这样的</strong>！！！</p>
<ul>
<li><p>下面用代码事实说话：建立3个Activity，分别为Main1Activity、Main2Activity、Main3Activity，前两个都设定单击事件，跳转逻辑为：main1 -&gt; main2 -&gt; main3，其中 Main2Activity 为 SingleTask（AndroidManifest.xml中设置）。打印相应的生命周期方法和所在的 <strong>taskId</strong></p>
<p>  <img src="http://7xr1vo.com1.z0.glb.clouddn.com/SingleTask%20%E5%9B%BE1.png" alt=""></p>
</li>
</ul>
<p>&emsp;&emsp;这些taskid都是一样的，所以它们都是同一个Task中的。事实胜于雄辩。然后搜了一下相关问题，老罗的博客还是给力，彻彻底底的分析了这个坑。致谢老罗的开源精神！链接：<a href="http://blog.csdn.net/luoshengyang/article/details/6714543" target="_blank" rel="external">http://blog.csdn.net/luoshengyang/article/details/6714543</a></p>
<ul>
<li><p>同时为了解释项目中类似的一个页面跳转问题，对于上面的demo做了修改：</p>
<p>  将 Main1Activity 设置为 SingleTask，其余2个为standrd</p>
<p>  操作步骤：</p>
<ol>
<li>点击图标启动此应用</li>
<li>依次点击进入 Main2，Main3，再点击Home键</li>
<li><p>点击应用图标重新进入</p>
<p>操作结果：结果再次显示的是Main1Activity，而不是Main3Activity。</p>
<p>先看看打印的日志：</p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/SingleTask%E5%9B%BE2.png" alt=""></p>
<p>再次点击图标进入应用时，实际上是Main2Activity，Main3Activity 出栈了。<br>分析下这个过程：</p>
<p>Main1，Main2，Main3 依次压入栈中，然后 Home 键，则整个Task处于stop状态，是一个background Task。当再次点击应用图标时，系统检测到此时已经存在一个该应用的Task的，此时就将此Background Task 移至前台，成为Foreground Task，而且由于Main1Activity是SingleTask，且位于task底部，所以，再次启动时，将前两个Activity移除，且按照启动顺序依次移除，所以打出的日志是：Main2 desotry，Main3 destory，Main1 onResume。</p>
</li>
</ol>
<ul>
<li><p><strong>看来，SingleTask这种特殊的模式引起的Task内Activity的变化是值得注意的</strong></p>
<p>之前我在Stackoverflow上问相关的问题，和我猜想的原因比较类似，链接如下：</p>
<p><a href="http://stackoverflow.com/questions/36933755/activity-is-singletask-and-is-root-in-task-restrart-activity-of-top-is-destorye" target="_blank" rel="external">http://stackoverflow.com/questions/36933755/activity-is-singletask-and-is-root-in-task-restrart-activity-of-top-is-destorye</a> （可供参考）</p>
</li>
</ul>
</li>
</ul>
<p>那么，如何才能在一个新的任务栈里创建新的Activity呢？</p>
<ul>
<li><p>只需要在AndroidManifest.xml中配置即可</p>
<p>  在SingleTask的基础之上，再增加设置 <strong>taskAffinify</strong> 属性即可，默认情况下，taskAffinity属性值为 包名，所以可以自定义一个taskAffinity值，便可以实现一个新的Task,新的Activity处于这个新的Task的root。如，我的 Demo 代码如下：</p>
<p>  <img src="http://7xr1vo.com1.z0.glb.clouddn.com/SingleTask%E5%9B%BE3.png" alt=""></p>
</li>
</ul>
<p>##总结</p>
<ul>
<li>SingleTask的启动模式并不会启动一个新的任务栈来承载Activity，而是在原来的Task中</li>
<li>SingleTask的启动模式，在官方文档的说明中，日常开发中并不建议使用，SingleInstance更是如此。</li>
<li>Activity的启动模式会带来的Task的变化和Activity的生命周期变化都会在ActivityRecord中体现的，通过源码分析可以发现。</li>
<li><p>通过以下命令，可以查看Task内的Activity的变化：</p>
<pre><code>adb shell dumpsys activity  获取所有应用的activity堆栈信息
adb shell dumpsys activity | grep com.xxx.xxx.xxx   获取某个应用的activity 堆栈信息
adb shell dumpsys activity | grep mFocusedActivity  获取处于栈顶的Activity
</code></pre></li>
<li><p><a href="http://blog.piasy.com/2016/03/19/Android-Task-And-Back-Stack/" target="_blank" rel="external">http://blog.piasy.com/2016/03/19/Android-Task-And-Back-Stack/</a> (写完此文后，发现有高人已经写得很全面很详尽了)</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/05/16/Android SingleTask 探究/" data-id="ciwgj0ukq0000p4v7d6duj7ow" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android Studio NDK开发环境搭建及Demo示例" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/01/16/Android Studio NDK开发环境搭建及Demo示例/" class="article-date">
  <time datetime="2016-01-16T11:34:00.000Z" itemprop="datePublished">1月 16 2016</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/16/Android Studio NDK开发环境搭建及Demo示例/">Android Studio NDK开发环境搭建及Demo示例</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>说明：Android Studio 1.4后支持C/C++开发，1.3之前的版本坑点较多，所以使用1.4后的版本较为容易</p>
<h2 id="1-所用工具版本"><a href="#1-所用工具版本" class="headerlink" title="1.所用工具版本"></a>1.所用工具版本</h2><ul>
<li>Android Studio 1.5</li>
<li>android-ndk-r10e-windows-x86_64.exe<h2 id="2-配置NDK环境"><a href="#2-配置NDK环境" class="headerlink" title="2.配置NDK环境"></a>2.配置NDK环境</h2></li>
<li>自行下载 <strong>ndk</strong> 工具，在你的要安装 ndk 的目录下，直接双击 此安装包，就会自动安装至此目录下，过程中会打开cmd窗口，命令行不断执行命令，需等待一会即可</li>
</ul>
</blockquote>
<ul>
<li><p>cmd窗口自动关闭后，会出现 <strong>ndk</strong> 的文件夹，如图：</p>
<blockquote>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/1.jpg" alt=""> </p>
<p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/2.png" alt=""></p>
</blockquote>
</li>
<li><p>配置<strong>ndk</strong>环境变量，path 中添加即可，如我的路径如下：</p>
<blockquote>
<p><strong>PATH： D:\android-ndk-r10e</strong></p>
</blockquote>
</li>
<li><p>保存后，打开cmd,输入命令:</p>
<blockquote>
<p><strong>ndk-build</strong> </p>
</blockquote>
<p>  出现如下显示，则安装成功：</p>
<p>  <img src="http://7xr1vo.com1.z0.glb.clouddn.com/3.png" alt=""></p>
</li>
</ul>
<h2 id="3-第一个NDKDemo"><a href="#3-第一个NDKDemo" class="headerlink" title="3.第一个NDKDemo"></a>3.第一个NDKDemo</h2><ul>
<li>studio中，新建一个project，    name： NDKDemo</li>
<li><p>在本项目中，配置 <strong>ndk</strong> 路径，如图：</p>
<p>  <img src="http://7xr1vo.com1.z0.glb.clouddn.com/4.png" alt=""><br>  <img src="http://7xr1vo.com1.z0.glb.clouddn.com/5.png" alt=""></p>
<p>  点击<strong>OK</strong>， 此时，等待gradle构建，构建完成后，观察 <strong>local.properties</strong> 文件，多出来了 <strong>ndk</strong> 的路径，如图所示：<br>  <img src="http://7xr1vo.com1.z0.glb.clouddn.com/6.png" alt=""></p>
</li>
<li>打开 <strong>grade.properties</strong> 文件，在末尾添加：<blockquote>
<p><strong>android.useDeprecatedNdk=”true”</strong></p>
</blockquote>
</li>
</ul>
<pre><code>![](http://7xr1vo.com1.z0.glb.clouddn.com/7.png)

    * 此步骤，为了防止下一步修改 app/build.gradle 文件后报错
</code></pre><ul>
<li><p>打开 <strong>app/build.gradle</strong> 文件，在 <strong>defaultConfig</strong> 下加入<strong>ndk</strong>相关配置参数：</p>
<pre><code>ndk {
    moduleName &quot;HelloNDK&quot;
}
</code></pre><p><img src="http://7xr1vo.com1.z0.glb.clouddn.com/8.png" alt=""></p>
<pre><code>* 此处的 modleName 是 加载库文件的标识，必须和后面代码中的 System.loadLibrary(&quot;HelloNDK&quot;) 保持一致，否则会报错
</code></pre></li>
<li><p>书写 <strong>native</strong> 方法 和 加载类库，代码如下：</p>
<pre><code>static {
    // 加载类库
    System.loadLibrary(&quot;HelloNDK&quot;);
}

// native方法 调用 C代码
public native String javaCallC();
</code></pre><p>如图，我这是后续的图片，过程中的未截：</p>
<p>  <img src="http://7xr1vo.com1.z0.glb.clouddn.com/10.png" alt=""></p>
</li>
<li><p>打开左下角的 <strong>Terminal</strong>，<strong>cd</strong> 至 <strong>java</strong> 路径下，并执行命令：</p>
<pre><code>javah -d jni [native方法所在类的全路径]
</code></pre><p>  如图：</p>
<p>  <img src="http://7xr1vo.com1.z0.glb.clouddn.com/11.png" alt=""></p>
<pre><code>* 在studio中：类的全路径可 通过 右击该类 -&gt; Copy Reference获得
</code></pre><p>  执行成功后，刷新下目录，可看到目录中多了一个 <strong>咖啡色的jni目录</strong>，和一个 <strong>.h文件</strong>，如图：</p>
<p>  <img src="http://7xr1vo.com1.z0.glb.clouddn.com/12.png" alt=""></p>
</li>
<li><p>右击 <strong>Main目录的图标 -&gt; New -&gt; Floder -&gt; JNI Floder</strong>，之后会出现一个 <strong>蓝色的JNI</strong> 文件夹，如图：</p>
<p>   <img src="http://7xr1vo.com1.z0.glb.clouddn.com/13.png" alt=""></p>
<p>  此时，继续解决上面 <strong>native</strong> 方法名报错（红色）的问题，<strong>Alt + Enter</strong> 选择创建 <strong>.c</strong> 中的方法，这时，会在蓝色的JNI文件夹下自动生成一个 <strong>.c</strong> 文件，并且 含有 <strong>c代码</strong>，里面有复杂的方法头</p>
<p>  <img src="http://7xr1vo.com1.z0.glb.clouddn.com/9.png" alt=""></p>
<p>  <img src="http://7xr1vo.com1.z0.glb.clouddn.com/14.png" alt=""></p>
<pre><code>* 可能 native 方法名仍然是红色的，这可能是 Studio 的一个bug，但其实是可以运行的。可能过一段时间红色会消失变为正常，我的就是这种情况
</code></pre></li>
<li><p>下面就可以书写真正的 <strong>C代码</strong>了，此处 只简单写下，关于更牛逼的用法，将更新在后面blog中，继续总结。</p>
<p>  此处代码改为：</p>
<pre><code>return (*env)-&gt;NewStringUTF(env, &quot;你好，NDK&quot;);
</code></pre></li>
<li><p>OK，第一个NDK Demo可以运行了，上图：</p>
<p> <img src="http://7xr1vo.com1.z0.glb.clouddn.com/16.png" alt=""></p>
</li>
</ul>
<h2 id="4-总结"><a href="#4-总结" class="headerlink" title="4.总结"></a>4.总结</h2><ul>
<li>相比以前在 <strong>eclipse</strong> 中进行 <strong>NDK</strong> 开发，<strong>studio</strong>中显得方便多了，并不用安装 <strong>CDT</strong> 和 <strong>cygwin</strong>，而且 <strong>.c</strong> 文件及其内容可以自动生成</li>
<li>利用命令 <strong>javah -d jni [native方法所在类的全路径]</strong>  生成的  <strong>.h头文件</strong> 可以在 有了 <strong>.c</strong> 文件后删除，此 <strong>.h</strong> 文件主要是用来用于生成 <strong>.c</strong> 文件中相应比较长的方法头。如果之前没有 <strong>.h</strong> 文件，<strong>Alt + Enter</strong> 是无法自动生成 <strong>.c</strong>文件的</li>
<li>必须在 有 <strong>/src/main/jni</strong> 的文件夹（蓝色的jni文件夹）下，才能自动生成<strong>.c</strong> 文件</li>
<li><strong>.c</strong> 文件中要出现了中文，必须是 <strong>UTF-8</strong> 下，否则，运行时会崩溃报错</li>
<li><p>注意观察 <strong>/app/build/intermediates/ndk</strong> 目录下，有相关的 所有平台的 .so 文件（默认情况下，生成所有平台的；若只想生成某几种平台的，可在 <strong>app/build.gradle（abi-Filters “armeabi”,”armeabi-v7a”,”x86”）</strong> 中  或者 <strong>Android.mk</strong>中 进行配置）</p>
<p>   <img src="http://7xr1vo.com1.z0.glb.clouddn.com/17.png" alt=""><br>##补充：</p>
</li>
<li>so文件和native类与混淆无关，无需keep语句</li>
<li>实现类一定要方法名正确否则会报java.lang.UnsatisfiedLinkError: dlopen failed异常</li>
<li>studio工具的提示并不是很智能，所以有时要rebuild project</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/01/16/Android Studio NDK开发环境搭建及Demo示例/" data-id="ciwgj0ukw0001p4v7ty3nn6ma" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/RxJava/">RxJava</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络/">网络</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/11/17/Android 类加载初探/">Android 类加载初探</a>
          </li>
        
          <li>
            <a href="/2016/11/01/Android apk安装及编译过程/">Android apk安装及编译过程</a>
          </li>
        
          <li>
            <a href="/2016/10/25/RadioGroup、RadioButton动态创建并定制icon显示/">RadioGroup、RadioButton动态创建并定制icon显示</a>
          </li>
        
          <li>
            <a href="/2016/10/06/RxJava 初探（一）/">RxJava 初探（一）</a>
          </li>
        
          <li>
            <a href="/2016/09/09/Gradle相关配置/">Gradle相关配置</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Gengjia rong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>